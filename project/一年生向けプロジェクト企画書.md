# 📚 一年生向け Todoアプリ開発プロジェクト

## 🎯 プロジェクト概要

**目標**: PHP + PostgreSQL を使った超シンプルなTodoリストアプリを1週間で作成

**対象**: Web開発初心者の一年生 4名

**期間**: 1週間

---

## ✨ アプリの機能

### 必須機能（シンプル！）

1. **ログイン・新規登録**
   - メールアドレスとパスワードでログイン
   - 新規ユーザー登録

2. **Todo管理**
   - Todoの追加（タイトルと期限を入力）
   - Todo一覧表示（自分のTodoだけ見える）
   - Todoの完了チェック
   - Todoの削除

3. **マイページ**
   - プロフィール表示
   - ユーザー名の編集

---

## 📁 ファイル構成（超シンプル！合計10ファイル）

```
simple-todo/
├── config.php          # データベース接続設定（先生が用意）
├── index.php           # ログイン画面
├── register.php        # 新規登録画面
├── todo.php            # Todo一覧・追加画面（メイン画面）
├── profile.php         # マイページ（プロフィール編集）
├── logout.php          # ログアウト処理
├── api.php             # API処理（Todo追加・完了・削除）
├── style.css           # スタイルシート
├── script.js           # JavaScript
└── setup.sql           # データベース作成SQL
```

---

## 🗄️ データベース構造（超シンプル！2テーブルだけ）

### テーブル1: users（ユーザー情報）

| カラム名 | 型 | 説明 |
|---------|-----|------|
| user_id | SERIAL PRIMARY KEY | ユーザーID（自動採番） |
| email | VARCHAR(255) UNIQUE | メールアドレス |
| password_hash | VARCHAR(255) | パスワード（ハッシュ化） |
| username | VARCHAR(100) | ユーザー名 |
| created_at | TIMESTAMP | 登録日時 |

### テーブル2: todos（Todo情報）

| カラム名 | 型 | 説明 |
|---------|-----|------|
| todo_id | SERIAL PRIMARY KEY | TodoID（自動採番） |
| user_id | INTEGER | ユーザーID（外部キー） |
| title | VARCHAR(255) | Todoのタイトル |
| deadline | DATE | 期限 |
| is_completed | BOOLEAN | 完了フラグ |
| created_at | TIMESTAMP | 作成日時 |

**リレーション**: users.user_id ← todos.user_id（1対多）

---

## 👥 役割分担案（4人で分担）

### 👤 メンバーA: ログイン・新規登録担当

**担当ファイル**:
- `index.php`（ログイン画面）
- `register.php`（新規登録画面）

**やること**:
1. ログイン画面のHTMLを作る
2. 新規登録画面のHTMLを作る
3. ログイン処理（パスワード確認、セッション開始）
4. 新規登録処理（ユーザーをDBに追加）

---

### 👤 メンバーB: Todo追加・一覧表示担当

**担当ファイル**:
- `todo.php`（メイン画面）
- `api.php`（追加部分）

**やること**:
1. Todo一覧表示のHTMLを作る
2. Todo追加フォームのHTMLを作る
3. データベースからTodoを取得して表示
4. 新しいTodoをデータベースに追加

---

### 👤 メンバーC: Todo完了・削除担当

**担当ファイル**:
- `api.php`（完了・削除部分）
- `script.js`

**やること**:
1. 完了ボタンをクリックしたらTodoを完了状態にする
2. 削除ボタンをクリックしたらTodoを削除する
3. JavaScriptでボタンクリック処理を書く
4. ページをリロードせずに更新（Ajax）

---

### 👤 メンバーD: マイページ・プロフィール編集担当

**担当ファイル**:
- `profile.php`（マイページ）
- `logout.php`（ログアウト）

**やること**:
1. マイページのHTMLを作る
2. プロフィール編集フォームを作る
3. ユーザー名の更新処理
4. ログアウト処理（セッション削除）

---

## 📅 1週間スケジュール

### Day 1（月曜）: 環境構築・設計
- [ ] GitHubリポジトリ作成
- [ ] 全員がリポジトリをクローン
- [ ] データベース作成（setup.sql実行）
- [ ] config.php設定（先生が用意）
- [ ] 役割分担の最終確認

### Day 2-3（火・水曜）: 個人作業
- [ ] メンバーA: ログイン・新規登録機能
- [ ] メンバーB: Todo追加・一覧表示機能
- [ ] メンバーC: スタイルシート作成開始
- [ ] メンバーD: マイページ作成開始

### Day 4-5（木・金曜）: 統合作業
- [ ] 各機能をGitHubにプッシュ
- [ ] 全員の機能を統合
- [ ] バグ修正
- [ ] スタイル調整

### Day 6-7（土・日曜）: テスト・仕上げ
- [ ] 全機能のテスト
- [ ] バグ修正
- [ ] README.md作成
- [ ] 完成！

---

## 🔧 必要な技術知識

### PHP（覚えること）
- [ ] `<?php ?>` の書き方
- [ ] `echo` で出力
- [ ] `$_POST` でフォームデータ取得
- [ ] `$_SESSION` でログイン状態管理
- [ ] PDOでデータベース操作（SELECT, INSERT, UPDATE, DELETE）
- [ ] `password_hash()` と `password_verify()` でパスワード処理

### PostgreSQL（覚えること）
- [ ] `SELECT` でデータ取得
- [ ] `INSERT` でデータ追加
- [ ] `UPDATE` でデータ更新
- [ ] `DELETE` でデータ削除
- [ ] `WHERE` で条件指定

### HTML（覚えること）
- [ ] `<form>` でフォーム作成
- [ ] `<input>` で入力欄
- [ ] `<button>` でボタン
- [ ] `<table>` でテーブル表示

### JavaScript（覚えること）
- [ ] `fetch()` でAPI呼び出し
- [ ] `addEventListener()` でボタンクリック処理
- [ ] DOM操作（要素の追加・削除）

---

## 🎨 画面イメージ

### ログイン画面（index.php）
```
┌─────────────────────────┐
│   Todoアプリ           │
│                         │
│  Email: [_________]     │
│  Password: [_______]    │
│                         │
│     [ログイン]          │
│                         │
│  アカウントない？       │
│  → 新規登録             │
└─────────────────────────┘
```

### Todo一覧画面（todo.php）
```
┌─────────────────────────────┐
│ ようこそ、〇〇さん！       │
│ [マイページ] [ログアウト]  │
├─────────────────────────────┤
│ 新しいTodoを追加           │
│ タイトル: [__________]     │
│ 期限: [2025-12-01]         │
│           [追加]           │
├─────────────────────────────┤
│ Todo一覧                   │
│ ☐ レポート提出 (2025-12-01)│
│   [完了] [削除]            │
│ ☑ 課題A (2025-11-20)      │
│   完了済み [削除]          │
└─────────────────────────────┘
```

### マイページ（profile.php）
```
┌─────────────────────────┐
│   マイページ           │
│                         │
│ メール: user@example.com│
│                         │
│ ユーザー名: [_____]     │
│           [更新]        │
│                         │
│   [Todoに戻る]          │
└─────────────────────────┘
```

---

## 📖 GitHub使い方（超初心者向け）

### 初回セットアップ（1回だけ）

```bash
# 1. リポジトリをクローン（ダウンロード）
git clone https://github.com/ユーザー名/リポジトリ名.git

# 2. フォルダに移動
cd リポジトリ名
```

### 毎日の作業フロー

```bash
# 1. 最新のコードを取得（作業前に必ず！）
git pull

# 2. ファイルを編集...（VSCodeなどで）

# 3. 変更を確認
git status

# 4. 変更をステージング
git add .

# 5. コミット（変更を記録）
git commit -m "○○機能を追加"

# 6. GitHubにアップロード
git push
```

### よくあるコマンド

```bash
# 現在の状態を確認
git status

# 変更履歴を見る
git log

# 誰が何を変更したか見る
git blame ファイル名
```

---

## ⚠️ 注意事項

### セキュリティ
- [ ] パスワードは必ず `password_hash()` でハッシュ化
- [ ] SQLインジェクション対策（PDOのプレースホルダー使用）
- [ ] XSS対策（`htmlspecialchars()` 使用）

### コーディングルール
- [ ] ファイルの先頭にコメントで説明を書く
- [ ] 変数名は分かりやすく（`$user_id`, `$todo_title` など）
- [ ] インデントを揃える（タブまたはスペース4つ）

### Git運用ルール
- [ ] コミットメッセージは日本語でOK
- [ ] 1日の終わりに必ずプッシュ
- [ ] プッシュ前に必ずプル
- [ ] エラーが出たら早めに相談

---

## 🆘 困ったときは

### エラーが出たら
1. エラーメッセージをよく読む
2. Google検索（エラーメッセージをコピペ）
3. グループメンバーに相談
4. 先生に相談

### よくあるエラー

**「Parse error」**
→ PHPの構文エラー。`;` や `}` の閉じ忘れ

**「Undefined variable」**
→ 変数が定義されていない。スペルミスの可能性

**「SQLSTATE」**
→ データベースエラー。SQLの書き方を確認

**「Fatal error: session_start()」**
→ session_start() が2回呼ばれている

---

## 🎓 学習リソース

### PHP基礎
- [PHP公式マニュアル](https://www.php.net/manual/ja/)
- [ドットインストール PHP入門](https://dotinstall.com/lessons/basic_php)

### PostgreSQL基礎
- [PostgreSQL公式ドキュメント](https://www.postgresql.jp/document/)

### Git/GitHub
- [サル先生のGit入門](https://backlog.com/ja/git-tutorial/)

---

## ✅ 完成の定義

以下が全てできたら完成！

- [ ] ログインができる
- [ ] 新規登録ができる
- [ ] Todoを追加できる
- [ ] Todoが一覧表示される（自分のだけ）
- [ ] Todoを完了できる
- [ ] Todoを削除できる
- [ ] プロフィール編集ができる
- [ ] ログアウトができる
- [ ] 他の人のTodoは見えない
- [ ] GitHubにコードがある

---

## 🚀 頑張ってください！

分からないことがあったら、すぐに質問してください。
一週間後には、自分たちで作ったWebアプリが動きます！

**Let's Code! 🎉**
